<html lang="en" class="no-js">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Covid Symptom Checker</title>
    
    <link rel="manifest"    id="my-manifest-placeholder">
     
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>
        var calcHeight = function () {
            $('#preview-frame').height($(window).height());
        }

        $(document).ready(function () {
            calcHeight();
            var urlpart = location.href.split('=');
            var id = "";

            var myDynamicManifest = {
                "background_color": "White",
                "description": "Covid Symptom Checker",
                "display": "fullscreen",
                "icons": [
                    {
                        "src": "/Covid-19/icon/covid-19.jpg",
                        "sizes": "144x144",
                        "type": "image/png"
                    }
                ],
                "name": "Covid Symptom Checker",
                "short_name": "Covid Symptom Checker",
                "start_url": "/Covid-19/index.html"
            }
            const stringManifest = JSON.stringify(myDynamicManifest);
            const blob = new Blob([stringManifest], { type: 'application/json' });
            const manifestURL = URL.createObjectURL(blob);

            document.querySelector('#my-manifest-placeholder').setAttribute('href', manifestURL);

            let deferredPrompt;

            window.addEventListener('beforeinstallprompt', function (event) {
                // Prevent Chrome 67 and earlier from automatically showing the prompt
                event.preventDefault();
                // Stash the event so it can be triggered later.
                deferredPrompt = event;
            });

            // Installation must be done by a user gesture! Here, the button click
      
            $(".add-button").click(function () {
                deferredPrompt.prompt();
                // Wait for the user to respond to the prompt
                deferredPrompt.userChoice
                    .then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            console.log('User accepted the A2HS prompt');
                        } else {
                            console.log('User dismissed the A2HS prompt');
                        }
                        deferredPrompt = null;
                    });
            })
         });

        $(window).resize(function () {
            calcHeight();
        }).load(function () {
            calcHeight();
        });



    </script>
</head>
<body>
 helllo testing 
    <button class="w3-button w3-block w3-teal footer add-button">Add to Home Screen</button>
</body>
</html>